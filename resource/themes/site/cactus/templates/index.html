{{define "site/index"}}
{{template "site/header" .}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "name": "{{jsonEscape .Conf.Site.SpaceName}}",
      "url": "https://{{.Conf.Site.Domain}}/",
      "description": "{{jsonEscape .Desc}}",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://{{.Conf.Site.Domain}}/search/?w={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "Person",
      "name": "{{jsonEscape .Conf.User.Nickname}}",
      "url": "https://{{.Conf.Site.Domain}}/"
    }
  ]
}
</script>
{{template "site/menu" .}}
{{ $top := index .Theme "cactus.hometopcontent" }}
{{if $top}}
<section>
  {{(md "home-top" (printf "%s" $top))|unsafe}}
</section>
{{end}}
<main id="main-content">
  <h1 class="sr-only">{{.Conf.Site.SpaceName}}</h1>
  <!-- Two-row, Two-column Grid Layout for Desktop -->
  <div class="home-grid-layout">
    <!-- Row 1, Column 1: Search -->
    <div class="home-search-section">
      {{template "site/search_form" .}}
    </div>
    
    <!-- Row 1, Column 2: Most Read -->
    {{if .Data.mostRead}}
    <div class="home-most-read-section">
      <div class="h1 sl-menu">
        <span>{{.Tr.T "most_read"}}</span>
      </div>
      <ul class="post-list">
        {{range .Data.mostRead}}
        {{template "site/article_list_entry" (articleData . $.Tr)}}
        {{end}}
      </ul>
    </div>
    {{else}}
    <div class="home-most-read-section"></div>
    {{end}}
    
    <!-- Row 2, Column 1: Writing/Articles -->
    <div class="home-articles-section">
      <div class="h1 sl-menu">
        <a href="https://{{.Conf.Site.Domain}}/posts/">{{.Tr.T "writing"}}</a>
        <a href="https://{{.Conf.Site.Domain}}/posts/">{{.Tr.T "view_more"}}➤</a>
      </div>
      <ul class="post-list">
        {{if not .Data.articles}}
        <li class="post-item">
          <span>
            <small>{{.Tr.T "no_article"}}</small>
          </span>
        </li>
        {{else}}
        {{range .Data.articles}}
        {{template "site/article_list_entry" (articleData . $.Tr)}}
        {{end}}
        {{end}}
      </ul>
    </div>
    
    <!-- Row 2, Column 2: Topics -->
    {{if .Data.topics}}
    <div class="home-topics-section">
      <div class="h1 sl-menu">
        <a href="https://{{.Conf.Site.Domain}}/tags/Topic/">{{.Tr.T "topic"}}</a>
        <a href="https://{{.Conf.Site.Domain}}/tags/Topic/">{{.Tr.T "view_more"}}➤</a>
      </div>
      <ul class="post-list">
        {{range .Data.topics}}
        {{template "site/article_list_entry" (articleData . $.Tr)}}
        {{end}}
      </ul>
    </div>
    {{else}}
    <div class="home-topics-section"></div>
    {{end}}
  </div>
</main>
{{ $bottom := index .Theme "cactus.homebottomcontent" }}
{{if $bottom}}
<section class="home-bottom">
  {{(md "home-bottom" (printf "%s" $bottom))|unsafe}}
</section>
{{end}}
{{template "site/footer" .}}
{{end}}