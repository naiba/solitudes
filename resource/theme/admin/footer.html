{{define "admin/footer"}}
    </main>

{{template "admin/js"}}
<script>
    // Global utility functions
    window.showLoading = function() {
        document.getElementById('loadingOverlay').classList.add('active');
    };
    
    window.hideLoading = function() {
        document.getElementById('loadingOverlay').classList.remove('active');
    };
    
    // Enhanced AJAX with loading states
    window.ajaxRequest = function(options) {
        showLoading();
        const defaultOptions = {
            error: function(xhr) {
                hideLoading();
                alert(xhr.responseText || 'An error occurred');
            },
            complete: function() {
                hideLoading();
            }
        };
        $.ajax(Object.assign(defaultOptions, options));
    };
    
    // Form validation helper
    window.validateForm = function(formId) {
        const form = document.getElementById(formId);
        if (!form) return false;
        
        let isValid = true;
        const requiredFields = form.querySelectorAll('[required]');
        
        requiredFields.forEach(function(field) {
            if (!field.value.trim()) {
                field.classList.add('border-red-500');
                isValid = false;
            } else {
                field.classList.remove('border-red-500');
            }
        });
        
        return isValid;
    };
</script>
</body>
</html>
{{end}}